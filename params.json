{"name":"Json2json","tagline":"JSON to JSON transform tool","body":"<!-- Command+Shift+G -->\r\nJson2Json Java Package\r\n======================\r\n\r\nJson2Json is **Template** based transformation design. \r\n## How Json2Json Works?\r\nJust like the [XSLT](http://www.freeformatter.com/xsl-transformer.html) design, we want design a **Json Template**.\r\n\r\n- - - - - - - - - - - - \r\n**`Template`** + `Source Json` ===> `Target Json`\r\n\r\n- - - - - - - - - - - - \r\n\r\n\r\n\r\n## Json Entities\r\n\r\n> #### Source Json\r\n> * Source Json is the entity from which Json we get the information; e.g. source.json:\r\n>\r\n```\r\n{ \"json\" : \"hello world\" }\r\n```\r\n<!--\r\n```\r\n{ \"json\":[\"hello\", \"world\"] }\r\n```\r\n-->\r\n\r\n\r\n\r\n> #### Template Json\r\n> * Template is also a Json, which guides how tranform from the source Json to the target Josn; e.g. template.json:\r\n>\r\n```\r\n{ \"json2json\" : {\"%|\": [\"&$.json\", \" \"]}} \r\n```\r\n<!--\r\n```\r\n{ \"json2json\" : {\"%*\":[\"&$.json\", \" \"]}} \r\n```\r\n-->\r\n* Note: Template must be a valid Json ( [online Json validation](http://eldrad.cs-i.brandeis.edu:8484/jld/json.html) ). \r\n\r\n> #### Target Json\r\n> * Target Json is the entity to which Json we want informtion to be; e.g. target.json:\r\n>\r\n```\r\n{ \"json2json\" : [\"hello\", \"world\"] }\r\n```\r\n<!--\r\n```\r\n{ \"json2json\" : \"hello world\" }\r\n```\r\n-->\r\n* Note: You can **test** this json2json with the example at [online test](http://eldrad.cs-i.brandeis.edu:8484/jld/json.html).\r\n\r\n<!-- -->\r\n## How Template Works?\r\n\r\nWe design **Template Unit** to make transformation. \r\n\r\n\r\n> #### What is Template and Target Json?\r\n> **Template Json** is Json comprised of *Tempalte Units*; e.g.  \r\n>  \r\n```\r\n{ \"json2json\" :  *Template Unit* } \r\n::\r\nTemplate Unit == {\"%*\":[\"&$.json\", \" \"]}\r\n```\r\n\r\n> **Target Json** is Template Json replaced the *Tempalte Units* by the *Transformed Unit*; e.g.  \r\n>  \r\n```\r\n{ \"json2json\" :  *Transformed Unit* } \r\n::\r\nTransformed Unit == \"hello world\"\r\n```\r\n<!-- -->\r\n> #### Template Unit\r\n> * Template Unit is a **Json Object**, which **genetates** the Transformed Unit, and will be **replaced** by this Transformed Unit in the Target Json. e.g. \r\n> \r\n```\r\n                     -------- generate ----->\r\n                    |                         \\.\r\n{\"%|\": [\"&$.json\", \" \"]}  <-- replace -- \"hello world\"\r\n```\r\n<a name=\"template-unit\"></a>\r\n> **Template Unit** is designed as the following:\r\n>\r\n```\r\n{ \"SYMBOL/KEYWORKS\" : PARAMETERS / PROCESSES }\r\n```\r\n> Thus, Template Unit is Json Format \"Procedural Programming\" design. It is just transforming by the execution of pieces of **commands** / **procedures**. It will be replaced by the transformed Json finally. \r\n\r\n\r\n<!-- -->\r\n> #### Transformed Unit\r\n> To do the transformation, we need process each Template Unit into Transformed Unit. How it works? We use the procedure language\r\n\r\n\tInput Json Unit + Command/Procedue --> Output Json Unit. \r\n\r\n## How to Read Input Json Unit?\r\nWe use JsonPath to read Input Json Unit from the source. <a name=\"json-path-reference\"></a>\r\n> #### Json Path Reference\r\n> To read json unit from the Source Json, we design the following reference. \r\n> \r\n```\r\n\" &JSONPATH \" , e.g. \"&$.json\"\r\n```\r\nTo understand how JsonPath works, you could read online [JsonPath Design](http://goessner.net/articles/JsonPath/index.html#e2), and you can [test / evaluate](http://jsonpath.curiousconcept.com/) online. \r\n\r\n* Note: DO NOT forget the *reference* ( **&** ) mark.\r\n\r\n\r\n## What Commands and Procedures?\r\nHow to design commands and procedure under the [Template Unit](#template-unit) framework?\r\n\r\n<a name=\"command\"></a>\r\n### Command Units\r\nSince Json Objects include **String**, **JsonArray**, **JsonObject**, and others (e.g. boolean, numbers). We design **String**, **Array**, **Map**, and **Expression** commands. \r\n\r\nGenerally, we design command units as following:\r\n> #### Single-Parameter Command Unit\r\n```\r\n{\"COMMAND-SYMBOL\" : PARAMETER }\r\n```\r\n> #### Multi-Parameter Command Unit\r\n```\r\n{\"COMMAND-SYMBOL\" : [PARAMETER_1, PARAMETER_2, ..., PARAMETER_m ] }\r\n```\r\n\r\n<a name=\"string\"></a>\r\n\r\n<!-- -->\r\n> #### String Commands\r\n\r\n\r\nCommand | Symbol | Keyword | Parameter | Example| Output \r\n:----------- | :-----------: | :-----------: | :-----------: | :----------- | -----------:\r\nname | %*symbol* | %*keyword* | [ *para_1,..., para_n* ] | { \"%*symbol*\" : [ *para_1,..., para_n* ] } | output\r\nconcatenate | %+ | *%concat*|[*str_1*,*str_2*]|{ \"%+\" : [\"hello\",\"world\"] } |\"helloworld\" \r\nsplit | %&#124; | *%split*|[*str*, *sep*]|{ \"%&#124;\" : [\"hello.world\",\".\"] }  | [\"hello\", \"world\"]\r\njoin | %* | *%join*|[ [*str_1,..., str_n*] , *sep*]|{ \"%*\" :   [ [\"hello\", \"world\"],\".\"] }  | \"hello.world\"\r\nindex | %? | *%idx*|[*str_1*, *str_2*]|{\"%?\" : [\"hello.world\", \"hello\"] }  | 0\r\nsubstring | %_ | *%sub*|[*str*, *start*, *end*]|{\"%_\" : [\"hello.world\", 0, 5] }  | \"hello\"\r\n*length | %#| *%len* | *str*|{\"%#\" : \"hello world\"} |  11\r\nreplace | %/ | *%rep*|[*str*, *s*, *r*]|{\"%/\" : [\"hello.world\", \".\", \" \"]}   | \"hello world\"\r\nregex-match | %% | *%rmatch*|[*str*, *reg*]|{\"%%\" : [\"hello.world\", \"[a-z]+\"]}  | [\"hello\", \"world\"]\r\nregex-split | %%&#124; | *%rsplit*|[*str*, *rsep*]|{\"%%&#124;\" : [\"hello.world\", \".l\"]}  | [\"h\", \"lo.wo\", \"d\"]\r\nregex-replace | %%/ | *%rrep*|[*str*, *sreg*, *r*]|{\"%%/\" : [\"hello.world\", \".l\", \"-\"]}   | \"h-lo.wo-d\"\r\njsonpath | %& | %path|[*jsonobject*, *path*]|{\"%&\" : [{\"hello\" : \"1\", \"world\" : \"2\"}, \"$.hello\"] }    | \"1\"\r\n\r\n*  Note: We note the **Single-Parameter Command** with *star* (**\\***) mark.  \r\n\r\n\r\n<a name=\"array\"></a>\r\n> #### Array Commands\r\n\r\nCommand | Symbol | Keyword | Parameter | Example| Output \r\n:----------- | :-----------: | :-----------: | :-----------: | :----------- | -----------:\r\nname | %]*symbol* | %]*keyword* | [ *para_1,..., para_n* ] | { \"%*symbol*\" : [ *para_1,..., para_n* ] } | output\r\nadd | %]+ | %array-add | [ [*arr_1,..., arr_m*], *new*] | {\"%]+\" : [ [\"hello\",\"world\"], \"!\" ] }  | [\"hello\",\"world\", \"!\"]\r\nget | %]$ | %array-get | [ [*arr_1,..., arr_m*], *index*] | {\"%]$\" : [ [\"hello\", \"world\"], 0]}  | \"hello\"\r\nset | %]/ | %array-set | [ [*arr_1,..., arr_m*], *index*, *new*] | {\"%]/\" : [ [\"hello\", \"world\"], 0, \"hi\"]}  | [\"hi\",\"world\"]\r\nremove | %]- | %array-rm | [ [*arr_1,..., arr_m*], *index*] | {\"%]-\" : [ [\"hello\",\"world\"], 0] }   | [\"world\"]\r\n*length |%]# | %array-len | [*arr_1,..., arr_m*]| {\"%]#\" : [\"hello\", \"world\"]} | 2\r\nindex |%]? | %array-idx | [[*arr_1,..., arr_m*], *arr_x*]| {\"%]?\" : [ [\"hello\", \"world\"],\"hello\"]}  | 0\r\nsublist |%]_ | %array-sub | [[*arr_1,..., arr_m*], *start*, *end*]| {\"%]_\" : [ [\"hello\", \"world\"], 0, 1]}  | [\"hello\"]\r\n\r\n\r\n*  Note: We note the **Single-Parameter Command** with *star* (**\\***) mark.  \r\n\r\n> #### Map Commands\r\n\r\nCommand | Symbol | Keyword | Parameter | Example| Output \r\n:----------- | :-----------: | :-----------: | :-----------: | :----------- | -----------:\r\nname | %}*symbol* | %}*keyword* | [ *para_1,..., para_n* ] | { \"%*symbol*\" : [ *para_1,..., para_n* ] } | output\r\nput | %}+ | %map-put | [ *jsonobject*, *key*, *value*] | {\"%}+\" : [{}, {\"hello\":\"world\"}] } |{\"hello\":\"world\"}\r\nget | %}$ | %map-get | [ *jsonobject*, *key*] | {\"%}$\" : [{\"hello\":\"world\"},\"hello\"]} | \"world\"\r\n*length | %}# | %map-len | *jsonobject* | {\"%}#\" : {\"hello\":\"world\"}}| 1\r\nremove | %}- | %map-rm | *jsonobject* | {\"%}-\" : [{\"hello\" : \"world\"}, \"hello\"]} | {}\r\n*keys | %}\\* | %map-keys | *jsonobject* | {\"%}\\*\" : {\"hello\":\"world\"}} |[\"hello\"]\r\n\r\n\r\n*  Note: We note the **Single-Parameter Command** with *star* (**\\***) mark.  \r\n\r\n> #### Expression Commands\r\n\r\nCommand | Symbol | Parameter | Example| Output \r\n:----------- |:-----------: | :-----------: | :----------- | -----------:\r\nname | *symbol* | [ *para_1, para_2* ] | { \"*symbol*\" : [ *para_1, para_2* ] } | output\r\nadd , subtract , times , divide | + , - , * , / | [*num_1*, *num_2*]|{ \"+\": [1, 2] } | 3\r\nequal , not equal , greater than , less than | == , != , > , < | [*num_1*, *num_2*]|{ \">\": [1, 2] } | false\r\nand , or | && , &#124;&#124; | [*bool_1*, *bool_2*]|{ \"&&\": [true, false] } | false\r\n*negative | ! | *bool*|{ \"!\": true } | false\r\n\r\n\r\n\r\n\r\n*  Note: We note the **Single-Parameter Command** with *star* (**\\***) mark.  \r\n\r\n> #### Composition Commands\r\n> We are allowed to compose the above commands to make complex commands; e.g. \r\n> \r\n> **String Composition**\r\n>\r\n> Example: find all words from string, concat and regex-replace \".l\" into \"-\".  \r\n>\r\n```\r\n{ \"%%/\" : [ \r\n           {\"%+\" : \r\n\t\t          {\"%%\" : [\"hello.world\", \"[a-z]+\"]}  \t        ==  [\"hello\", \"world\"]\r\n\t\t                                           }  \t        ==  \"helloworld\"\r\n\t\t                          , \".l\", \"-\" ]    }  \t        ==  \"h-lowo-d\"\r\n```\r\n> **Boolean Composition**\r\n> \r\n```\r\n{\"!\": { \"&&\": [ { \">\": [ 2, 3 ]}, { \"==\": [ 1, 1 ]} ]} } \t    ==  false\r\n```\r\n\r\n*  Note: We note there are **Limits** of composition. It will very hard to make correct composition, since we have to guess output format (object, array, string, boolean) to prepare correct parameters. Thus, complex composition is NOT suggested. To prevent complex composition, using **Json Path Reference Command** and **Jsonpath String Commmand** can be helpful.   \r\n\r\n\r\n### Procedure Units\r\nThe most important about procedure is that it allows **Variable**.\r\nWe design Procedure units as following:\r\n> #### Procedure Unit\r\n> **Procedue Unit** comprises 3 paramters :  **Initialization**, **Processes**, **Return-Value**. We provide 2 procedure definition format. \r\n> \r\n```\r\n{\r\n\t\"PROCEDURE-SYMBOL\": [ { Initialization }, \r\n\t\t                  { \r\n\t\t                    \"PROCESS-SYMBOL_1\" : Process_1, \r\n\t\t                    \"PROCESS-SYMBOL_2\" : Process_2,\r\n\t\t                    ...,\r\n\t\t                    \"PROCESS-SYMBOL_n\" : Process_n, \r\n\t\t                  } ,\r\n\t\t                  Return-Value\r\n\t\t                ] \r\n}\r\n```\r\n> Or you can also define it as following \r\n>\r\n```\r\n{\r\n\t\"PROCEDURE-SYMBOL\": {  \t\"INIT-SYMBOL\" : { Initialization },\r\n\t\t                    \"PROCESS-SYMBOL_1\" : Process_1, \r\n\t\t                    \"PROCESS-SYMBOL_2\" : Process_2,\r\n\t\t                    ...,\r\n\t\t                    \"PROCESS-SYMBOL_n\" : Process_n, \r\n\t\t                    \"RETURN-SYMBOL\" : Return-Value\r\n\t\t                } \r\n}\r\n```\r\nFrom the above, the Transformed Unit will be **\"Return-Value\"**. Once the procedure is transformed, it will be replaced by this return value. \r\n\r\n> Each **Process** can be an array of **Step** or just one **Step**\r\n> #### Single-Step Process\r\n```\r\n{\r\n \"PROCESS-SYMBOL\" : Step, \r\n}\r\n```\r\n> #### Multi-Step Process\r\n```\r\n{\r\n \"PROCESS-SYMBOL\" : [Step_1, Step_2, ..., Step_m], \r\n}\r\n```\r\n> Each **Step** can be a [**Command**](#command) or an **Assign Step**. \r\n> #### Assign Step\r\n<a name=\"assign-step\"></a>\r\n> \r\n```\r\n{\r\n \"%variable\" : value, \r\n}\r\n```\r\n\r\n*  Note: Variable is noted by \"%\"\r\n\r\n\r\n<!-- -->\r\n<a name=\"initialization\"></a>\r\n> #### Initialization\r\n>\r\n> Variables must be declared and initialized in this sub-unit. \r\n> \r\n```\r\n{  \r\n   \"%!variable_1\" : value_1, \r\n   \"%!variable_2\" : value_2, \r\n   ..., \r\n   \"%!variable_k\" : value_k, \r\n}\r\n```\r\n\r\n*  Note: Variable is declared by \"%!\"\r\n\r\n<!-- -->\r\n<a name=\"return-value\"></a>\r\n> #### Return-Value\r\nReturn value can be a constant value, or a variable defined in the initialization. \r\n\r\n<!-- -->\r\n<a name=\"process\"></a>\r\n> #### Processes\r\nThere are 3 typical procedures: **[IF-TEHN-ELSE](#if-then-else)**, **[FOR-EACH](#for-each)**, and **[DO-WHILE](#do-while)**.\r\n\r\n\r\n<a name=\"if-then-else\"></a>\r\n> #### IF-TEHN-ELSE\r\n\r\n```\r\n{\"%!IF\" : {\r\n    \"%$\"    : {   \"%!variable_1\" : value_1, \r\n\t\t\t   \t   \"%!variable_2\" : value_2, \r\n   \t\t\t\t   ..., \r\n   \t\t\t\t   \"%!variable_k\" : value_k  \r\n   \t\t\t   },\r\n    \"%<>\"   : Expression,\r\n    \"%THEN\" : [Step_1, Step_2, ..., Step_l] ,\r\n    \"%ELSE\" : [Step_1, Step_2, ..., Step_m],\r\n    \"%#\"    : $return-object }  \r\n}\r\n```\r\nOr the other format:\r\n\r\n```\r\n{\"%!IF\" : [  {   \"%!variable_1\" : value_1, \r\n\t\t\t   \t  \"%!variable_2\" : value_2, \r\n   \t\t\t\t  ..., \r\n   \t\t\t\t  \"%!variable_k\" : value_k  \r\n   \t\t     },\r\n             {   \"%<>\" : Expression,\r\n                 \"%THEN\" : [Step_1, Step_2, ..., Step_l] ,\r\n                 \"%ELSE\" : [Step_1, Step_2, ..., Step_m]\r\n             },  \r\n             $return-object ]  \r\n}\r\n```\r\n\r\nName | Keyword | Symbol\r\n:-----------     | :-----------: | -----------:\r\nInitialization   | %DEF          | %$\r\nReturn-Value     | %RET          | %#\r\nExpression       | %EXP          | %<>\r\n\r\n\r\nWe provide an example that choosing a URL according to name. \r\n\r\n```\r\n{ \"uri\" :  { \"%!IF\": [   {   \"%!uri\": \"\" },\r\n                         {   \"%<>\"     : { \"==\": [ \"&$.name\", \"OpenNLP\" ]},\r\n                             \"%THEN\"   : { \"%uri\": \"http://www.opennlp.org\"},\r\n                             \"%ELSE\"   : { \"%uri\": \"http://unknown.org\" }\r\n                         },\r\n                         \"%uri\" ] \r\n            } \r\n}          \r\n```\r\nOr it can also be:\r\n\r\n```\r\n{ \"uri\" :  { \"%!IF\": {\r\n                          \"%$\"      :  {   \"%!uri\": \"\" },\r\n                          \"%<>\"     :  { \"==\": [ \"&$.name\", \"OpenNLP\" ]},\r\n                          \"%THEN\"   :  { \"%uri\": \"http://www.opennlp.org\"},\r\n                          \"%ELSE\"   :  { \"%uri\": \"http://unknown.org\" },\r\n                          \"%#\"      :  \"%uri\"    } \r\n           } \r\n}          \r\n```\r\n\r\nThe Target Json will be:\r\n\r\n```\r\n{ \"uri\" : \"http://www.opennlp.org\" }\r\n```\r\n\r\n<a name=\"for-each\"></a>\r\n> #### FOR-EACH\r\n\r\n\r\n```\r\n{\"%!FOR\" : {\r\n    \"%$\"    :  {   \"%!variable_1\" : value_1, \r\n\t\t\t   \t   \"%!variable_2\" : value_2, \r\n   \t\t\t\t   ..., \r\n   \t\t\t\t   \"%!variable_k\" : value_k  \r\n   \t\t       },\r\n    \"%[]\"   : [[iterator_1, iterator_2, ..., iterator_l], \"%i\", \"%e\"],\r\n    \"%EACH\" : [Step_1, Step_2, ..., Step_m] ,\r\n    \"%#\"    : $return-object }  \r\n}\r\n```\r\nOr the other format:\r\n\r\n```\r\n{\"%!FOR\" : [  {   \"%!variable_1\" : value_1, \r\n\t\t\t   \t  \"%!variable_2\" : value_2, \r\n   \t\t\t\t  ..., \r\n   \t\t\t\t  \"%!variable_k\" : value_k  \r\n   \t\t     },\r\n             {   \"%[]\"   : [[iterator_1, iterator_2, ..., iterator_l], \"%i\", \"%e\"],\r\n                 \"%EACH\" : [Step_1, Step_2, ..., Step_m]\r\n             },  \r\n             $return-object ]  \r\n}\r\n```\r\n\r\nName | Keyword | Symbol\r\n:-----------     | :-----------: | -----------:\r\nInitialization   | %DEF          | %$\r\nReturn-Value     | %RET          | %#\r\nIteration        | %ITER         | %[]\r\n\r\n\r\n\r\nWe provide an example that iterating a string array and concating all of them. \r\n\r\n```\r\n{ \"letters\" :  { \"%!FOR\": {\r\n                          \"%$\"      :  {   \"%!str\": \"\" },\r\n                          \"%[]\"     :  [ [\"hello\", \"world\"], \"%i\", \"%e\"],\r\n                          \"%EACH\"   :  {\"%str\": {\"%+\": [\"%str\", \"%e\"]} },\r\n                          \"%#\"      :  \"%str\"    } \r\n               } \r\n}          \r\n```\r\nOr it can also be:\r\n\r\n```\r\n{ \"letters\" :  { \"%!FOR\": [   {   \"%!str\" : \"\" },\r\n                              {   \"%[]\"   : [ [\"hello\", \"world\"], \"%i\", \"%e\"],                             \r\n                                  \"%EACH\" : {\"%str\": {\"%+\": [\"%str\", \"%e\"]}                     \r\n                              } \r\n                         },\r\n                         \"%str\" ] \r\n               } \r\n}          \r\n```\r\nThe Target Json will be:\r\n\r\n```\r\n{ \"letters\" : \"helloworld\" }\r\n```\r\n\r\n\r\n<a name=\"do-while\"></a>\r\n> #### DO-WHILE\r\n\r\n\r\n```\r\n{\"%!WHILE\"  : {\r\n    \"%$\"    : {   \"%!variable_1\" : value_1, \r\n\t\t\t   \t   \"%!variable_2\" : value_2, \r\n   \t\t\t\t   ..., \r\n   \t\t\t\t   \"%!variable_k\" : value_k  \r\n   \t\t\t   },\r\n    \"%<>\"   : Expression,\r\n    \"%DO\"   : [Step_1, Step_2, ..., Step_l] ,\r\n    \"%#\"    : $return-object }  \r\n}\r\n```\r\nOr the other format:\r\n\r\n```\r\n{\"%!WHILE\" : [  {   \"%!variable_1\" : value_1, \r\n\t\t\t   \t  \"%!variable_2\" : value_2, \r\n   \t\t\t\t  ..., \r\n   \t\t\t\t  \"%!variable_k\" : value_k  \r\n   \t\t        },\r\n                {   \"%<>\" : Expression,\r\n                    \"%DO\" : [Step_1, Step_2, ..., Step_l]\r\n                },  \r\n                $return-object ]  \r\n}\r\n```\r\n\r\nName | Keyword | Symbol\r\n:-----------     | :-----------: | -----------:\r\nInitialization   | %DEF          | %$\r\nReturn-Value     | %RET          | %#\r\nExpression       | %EXP          | %<>\r\n\r\n\r\n\r\nWe provide an example that repeating text of \"go!\" until its length not greater than 10. \r\n\r\n```\r\n{ \"duplicated\" :  { \"%!WHILE\": {\r\n                          \"%$\"      :  {   \"%!str\": \"\" },\r\n                          \"%<>\"     :  { \"<\": [ {\"%#\": \"%str\"}, 10] },\r\n                          \"%DO\"     :  {\"%str\": {\"%+\": [\"%str\", \" go!\"]}},\r\n                          \"%#\"      :  \"%str\"    } \r\n                  } \r\n}          \r\n```\r\nOr it can also be:\r\n\r\n```\r\n{ \"duplicated\" :  { \"%!WHILE\": [   {   \"%!str\": \"\" },\r\n                                   {   \"%<>\"     :  { \"<\": [ {\"%#\": \"%str\"}, 10] },\r\n                                       \"%DO\"     :  {\"%str\": {\"%+\": [\"%str\", \" go!\"]}}\r\n                                   },\r\n                                   \"%str\" ]\r\n                 } \r\n}          \r\n```\r\nThe Target Json will be:\r\n\r\n```\r\n{ \"duplicated\" : \"go!go!go!go!\" }\r\n```\r\n<!--\r\n<table  class=\"v\"><tbody><tr>\r\n    <th>Function</th><th>Definition</th><th>Symbol</th><th>Example</th><th>Description</th> </tr><tr>\r\n    <td>Define Variable</td><td>{\"<b>%!</b><em>name</em>\" : <em>$json-object</em>}</td><td>%!</td> <td>{\"%!<em>v</em>\" : 1, \"%!<em>v2</em>\" : \"hello\", \"%!<em>v3</em>\" : {}, \"%!<em>v4</em>\" : [] }</td><td>define number, string, map, and array</td></tr><tr>\r\n    <td>Assignment Variable</td><td>{\"<b>%</b><em>name</em>\" : <em>$json-object</em>}</td><td>%</td> <td>{\"%<em>v2</em>\" : \"hello\"} == (<em>v2</em> = \"hello\")</td><td>define number, string, map, and array</td></tr><tr>\r\n    <td style=\"color:green\">Process</td><td style=\"color:green\"><pre>{\"<b>%!proc</b>\" : {\r\n    \"%def\"  : {$initialization},\r\n    \"%steps\" : [{$Process}, ...],\r\n    \"%ret\"  : $return-object\r\n    }\r\n}</pre></td><td style=\"color:green\">%!+ <br> %$<br> %{}<br> %# </td>\r\n        <td style=\"color:green\"><pre>{\"<b>%!proc</b>\" : {\r\n    \"%$\"  : {$initialization},\r\n    \"%{}\" : [{$Process}, ...],\r\n    \"%#\"  : $return-object\r\n    }\r\n}</pre></td><td></td></tr><tr>\r\n    <td>If-Then-Else</td><td><pre>{\"<b>%!if</b>\" : {\r\n    \"%def\"  : {$initialization},\r\n    \"%expr\" : <em>$expression</em>,\r\n    \"%if\"   : [$if-steps, ...] ,\r\n    \"%else\" : [$else-steps, ...],\r\n    \"%ret\"  : $return-object } }</pre></td>\r\n        <td>%!? <br> %<><br> %$<br> %if<br> %else<br> %#</td> <td><pre>{\"%!if\": {\r\n    \"%$\"    : {   \"%!id\": \"\" },\r\n    \"%<>\"   : { \"==\": [ \"&$.name\", \"OpenNLP\" ]},\r\n    \"%if\"   : { \"%id\": \"http://www.opennlp.org\"},\r\n    \"%else\" : { \"%id\": \"http://unknown.org\" },\r\n    \"%#\"    : \"%id\" } }       </pre></td><td>Result will be \"http://www.opennlp.org\". </td></tr><tr>\r\n    <td>For-Each</td><td><pre>{\"<b>%!for</b>\" : {\r\n    \"%def\"     : {$initialization},\r\n    \"%iter\"    : [$iterable, $index, $each],\r\n    \"%each\"    : [{$each-process}, ...] ,\r\n    \"%ret\"     : $return-object }}</pre></td><td>%!*<br> %[]<br> %$<br> %each<br> %#</td> <td><pre>{\"%!for\": {\r\n    \"%$\"       : {   \"%!s\": \"\" },\r\n    \"%[]\"      : [ [\"hello\", \"world\"], \"%i\", \"%e\"],\r\n    \"%each\" : {\"%s\": {\"%+\": [\"%s\", \"%e\"]}},\r\n    \"%#\"       : \"%s\" } }       </pre></td><td>Result will be \"helloworld\". </td></tr><tr>\r\n    <td>While</td><td><pre>{\"<b>%!while</b>\" : {\r\n    \"%def\"     : {$initialization},\r\n    \"%expr\"    :  <em>$expression</em>,\r\n    \"%do\" : [{$each-process}, ...] ,\r\n    \"%ret\"  : $return-object }}</pre></td><td>%!_<br> %<><br> %$<br> %do<br> %#</td> <td><pre>{\"%!while\": {\r\n    \"%$\"    : {   \"%!s\": \"\" },\r\n    \"%<>\"   : {\"<\":[ {\"%#\": \"%s\"}, 200]},\r\n    \"%do\"   : {\"%s\": {\"%+\": [\"%s\", \" next\"]}},\r\n    \"%#\"    : \"%s\" } }       </pre></td><td>Result will be  \" next next next next\". </td></tr><tr>\r\n    </tr></tbody></table>\r\n\r\n-->\r\n\r\n### More Examples\r\n\r\nWe have a Source Json. It is records of CDs.  \r\n\r\n```\r\n{\r\n  \"catalog\": {\r\n    \"-xmlns:foo\": \"http://www.foo.org/\",\r\n    \"-xmlns:bar\": \"http://www.bar.org\",\r\n    \"foo:cd\": [\r\n      {\r\n        \"title\": \"Empire Burlesque\",\r\n        \"artist\": \"Bob Dylan\",\r\n        \"country\": \"USA\",\r\n        \"company\": \"Columbia\",\r\n        \"price\": \"10.90\",\r\n        \"bar:year\": \"1985\"\r\n      },\r\n      {\r\n        \"title\": \"Hide your heart\",\r\n        \"artist\": \"Bonnie Tyler\",\r\n        \"country\": \"UK\",\r\n        \"company\": \"CBS Records\",\r\n        \"price\": \"9.90\",\r\n        \"bar:year\": \"1988\"\r\n      },\r\n      {\r\n        \"title\": \"Greatest Hits\",\r\n        \"artist\": \"Dolly Parton\",\r\n        \"country\": \"USA\",\r\n        \"company\": \"RCA\",\r\n        \"price\": \"9.90\",\r\n        \"bar:year\": \"1982\"\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\nIf we want to organize it into the table. \r\n\r\n```\r\n{\r\n  \"html\": {\r\n    \"-xmlns:bar\": \"http://www.bar.org\",\r\n    \"-xmlns:foo\": \"http://www.foo.org/\",\r\n    \"body\": {\r\n      \"h2\": \"My CD Collection\",\r\n      \"table\": {\r\n        \"-border\": \"1\",\r\n        \"tr\": [\r\n          {\r\n            \"-bgcolor\": \"#9acd32\",\r\n            \"th\": [\r\n              \"Title\",\r\n              \"Artist\",\r\n              \"Country\",\r\n              \"Company\",\r\n              \"Price\",\r\n              \"Year\"\r\n            ]\r\n          },\r\n          {\r\n            \"td\": [\r\n              \"Empire Burlesque\",\r\n              \"Bob Dylan\",\r\n              \"USA\",\r\n              \"Columbia\",\r\n              \"10.90\",\r\n              \"1985\"\r\n            ]\r\n          },\r\n          {\r\n            \"td\": [\r\n              \"Hide your heart\",\r\n              \"Bonnie Tyler\",\r\n              \"UK\",\r\n              \"CBS Records\",\r\n              \"9.90\",\r\n              \"1988\"\r\n            ]\r\n          },\r\n          {\r\n            \"td\": [\r\n              \"Greatest Hits\",\r\n              \"Dolly Parton\",\r\n              \"USA\",\r\n              \"RCA\",\r\n              \"9.90\",\r\n              \"1982\"\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  }\r\n}\r\n``` \r\n\r\nHow can we realize this transformation?\r\n\r\nWe implement a Template. \r\n\r\n```\r\n{\r\n  \"html\": {\r\n    \"-xmlns:bar\": \"http://www.bar.org\",\r\n    \"-xmlns:foo\": \"http://www.foo.org/\",\r\n    \"body\": {\r\n      \"h2\": \"My CD Collection\",\r\n      \"table\": {\r\n        \"-border\": \"1\",\r\n        \"tr\": { \"%!FOR\"  : {\r\n                 \"%$\"    : {\"%!arr\":[ { \"-bgcolor\": \"#9acd32\",\r\n                                    \"th\": [\r\n                                      \"Title\",\r\n                                      \"Artist\",\r\n                                      \"Country\",\r\n                                      \"Company\",\r\n                                      \"Price\",\r\n                                      \"Year\" ]\r\n                                  } ]\r\n                          },\r\n                \"%[]\"   : [\"&$.catalog.foo:cd\", \"%i\", \"%e\"],\r\n                \"%EACH\" : {\"%arr\": {\"%]+\": [\"%arr\", {\"td\": [\r\n                                                        {\"%&\":[\"%e\", \"$.title\"]} ,\r\n                                                        {\"%&\":[\"%e\", \"$.artist\"]},\r\n                                                        {\"%&\":[\"%e\", \"$.country\"]},\r\n                                                        {\"%&\":[\"%e\", \"$.company\"]},\r\n                                                        {\"%&\":[\"%e\", \"$.price\"]},\r\n                                                        {\"%&\":[\"%e\", \"$.bar:year\"]}\r\n                                                       ]}]}},\r\n               \"%#\"    : \"%arr\"\r\n              }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\n1. Define *`\"%!arr\"`* as an array with one element \"th\".\r\n2. Use **\"[FOR-EACH](#for-each)\"** procedure to realize the transformation.\r\n3. Iterate over **[Json Path Reference](#json-path-reference)** (*`\"&$.catalog.foo:cd\"`*).\r\n4. Add each \"td\" into the array *\"%arr\"* using the **[Array ADD Command](#array)** (*`{\"%]+\",[ $array, $element ]}`*)\r\n5. Assign the ADDED array ( *`\"%arr\"`*) using the **[Assign Step](#assign-step)** (*`{\"%arr\": *ADDED* }`*)\r\n6. Return the array ( *`\"%arr\"`*).  \r\n\r\n\r\n### Next\r\nWhat we want to support next. A TODO list can be as following:\r\n \r\n1. Multiple Json Sources Support\r\n2. URI import Json Support. \r\n3. Remove dependence of Groovy engine. \r\n\r\n### Usage\r\nMaven dependency is like this.\r\n\r\n```\r\n<dependencies> \r\n<dependency> \r\n<groupId>org.lappsgrid</groupId> \r\n<artifactId>json2json</artifactId> \r\n<version>0.2.1</version> \r\n</dependency> \r\n<dependencies>\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}